
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Spec3Pipeline for MRS (MIRI MRS CALSPEC3) &#8212; Patrick Kavanagh&#39;s Homepage</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/JWST MIRI Pipeline/Level3_Spec3Pipeline_MRS';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/MIRI_logo.png" class="logo__image only-light" alt="Patrick Kavanagh's Homepage - Home"/>
    <script>document.write(`<img src="../../_static/MIRI_logo.png" class="logo__image only-dark" alt="Patrick Kavanagh's Homepage - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../index.html">
                    Patrick Kavanagh
                </a>
            </li>
        </ul>
        
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/JWST MIRI Pipeline/Level3_Spec3Pipeline_MRS.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Spec3Pipeline for MRS   (MIRI MRS CALSPEC3)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#input-data">Input data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line">Command line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-examples">Further examples</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="spec3pipeline-for-mrs-miri-mrs-calspec3">
<h1>Spec3Pipeline for MRS   (MIRI MRS CALSPEC3)<a class="headerlink" href="#spec3pipeline-for-mrs-miri-mrs-calspec3" title="Link to this heading">#</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> combines the calibrated data from multiple exposures (e.g. a dither/nod pattern) into a single combined 3D spectral product and a combined 1D spectrum. Before being combined, the exposures receive additional corrections for the purpose of background matching and subtraction, as well as outlier rejection.</p>
<p>Official documentation for <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> can be found here:</p>
<p><a class="reference external" href="https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_spec3.html">https://jwst-pipeline.readthedocs.io/en/latest/jwst/pipeline/calwebb_spec3.html</a></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> for MRS comprises a linear series of steps. The steps in order are:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Step</p></th>
<th class="head text-left"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">master_background</span></code></p></td>
<td class="text-left"><p>subtract master background spectrum created from input exposures or supplied by user</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">mrs_imatch</span></code></p></td>
<td class="text-left"><p>matches image intensities of input MIRI MRS images</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">outlier_detection</span></code></p></td>
<td class="text-left"><p>flag any remaining cosmic-rays or other artifacts left over from previous calibrations</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">cube_build</span></code></p></td>
<td class="text-left"><p>produce 3D spectral cubes from the ‘cleaned’ 2D detector image</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">extract_1d</span></code></p></td>
<td class="text-left"><p>extract 1D spectrum from 3D cube</p></td>
</tr>
</tbody>
</table>
</div>
<p>For more information and examples of each of the steps click on the links in the side bar.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">master_background</span></code> step would normally be run if no background subtraction happened in Spec2Pipeline. However, we will skip the step in this example.</p>
<p>Users of this notebook should be aware that cubes produced will not be perfect and suffer from known issues with MIRISim (oversized MRS PSF, channel 4 flux issues, etc.). Also, the spectral extraction step in the pipeline (extract_1d) does not yet correctly implement the aperture correction factors so the fluxes will be off.</p>
<section id="input-data">
<h2>Input data<a class="headerlink" href="#input-data" title="Link to this heading">#</a></h2>
<p>An example of running the file through the <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> is now shown using a simple simulated fullband, 2-point dither observation of a point source (power law plus emission lines spectrum) with the MIRI MRS produced with <a class="reference external" href="https://wiki.miricle.org/Public/MIRISim_Public">MIRISim v2.3</a> and brought to level 2B using the <code class="docutils literal notranslate"><span class="pre">Detector1Pipeline</span></code> and <code class="docutils literal notranslate"><span class="pre">Spec2Pipeline</span></code> modules.</p>
</section>
<section id="python">
<h2>Python<a class="headerlink" href="#python" title="Link to this heading">#</a></h2>
<p>Start by importing what will be used and set the <code class="docutils literal notranslate"><span class="pre">CRDS_CONTEXT</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># imports</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span><span class="o">,</span><span class="w"> </span><span class="nn">glob</span><span class="o">,</span><span class="w"> </span><span class="nn">shutil</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.colors</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogNorm</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">cycler</span><span class="w"> </span><span class="kn">import</span> <span class="n">cycler</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">subprocess</span><span class="w"> </span><span class="kn">import</span> <span class="n">call</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst</span><span class="w"> </span><span class="kn">import</span> <span class="n">datamodels</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.associations.lib.member</span><span class="w"> </span><span class="kn">import</span> <span class="n">Member</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">jwst.associations.asn_from_list</span><span class="w"> </span><span class="kn">import</span> <span class="n">asn_from_list</span>

<span class="c1"># set the CRDS_CONTEXT</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;CRDS_CONTEXT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;jwst_0641.pmap&quot;</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Image3Pipeline</span></code> requires an association file as input that lists the exposures to be combined. The content of the association file is printed for inspection. It is assumed they are in ‘MRS_science’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># load the science and background files to lists</span>
<span class="n">my_science_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;MRS_science/*cal.fits&#39;</span><span class="p">)</span>
<span class="n">my_science_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">my_science_files</span><span class="p">)</span>

<span class="c1"># set the association name</span>
<span class="n">asn_name</span> <span class="o">=</span> <span class="s1">&#39;my_point_source&#39;</span>

<span class="c1"># setup an empty level 2 association structure</span>
<span class="n">asn</span> <span class="o">=</span> <span class="n">asn_from_list</span><span class="p">(</span><span class="n">my_science_files</span><span class="p">,</span> <span class="n">product_name</span><span class="o">=</span><span class="n">asn_name</span><span class="p">)</span>

<span class="c1"># set some metadata</span>
<span class="n">asn</span><span class="p">[</span><span class="s1">&#39;asn_pool&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">asn_name</span> <span class="o">+</span> <span class="s1">&#39;_pool&#39;</span>
<span class="n">asn</span><span class="p">[</span><span class="s1">&#39;asn_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;spec3&#39;</span>
        
<span class="c1"># print the association and save to file</span>
<span class="n">name</span><span class="p">,</span> <span class="n">ser</span> <span class="o">=</span> <span class="n">asn</span><span class="o">.</span><span class="n">dump</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>

<span class="n">asn_file</span> <span class="o">=</span> <span class="n">asn_name</span> <span class="o">+</span> <span class="s1">&#39;_lvl3_asn.json&#39;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">asn_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ser</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &quot;asn_type&quot;: &quot;spec3&quot;,
    &quot;asn_rule&quot;: &quot;DMS_Level3_Base&quot;,
    &quot;version_id&quot;: null,
    &quot;code_version&quot;: &quot;0.17.1&quot;,
    &quot;degraded_status&quot;: &quot;No known degraded exposures in association.&quot;,
    &quot;program&quot;: &quot;noprogram&quot;,
    &quot;constraints&quot;: &quot;No constraints&quot;,
    &quot;asn_id&quot;: &quot;a3001&quot;,
    &quot;target&quot;: &quot;none&quot;,
    &quot;asn_pool&quot;: &quot;my_point_source_pool&quot;,
    &quot;products&quot;: [
        {
            &quot;name&quot;: &quot;my_point_source&quot;,
            &quot;members&quot;: [
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure10_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure11_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure12_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure1_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure2_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure3_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure4_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure5_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure6_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure7_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure8_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                },
                {
                    &quot;expname&quot;: &quot;MRS_science/my_point_source_exposure9_cal.fits&quot;,
                    &quot;exptype&quot;: &quot;science&quot;
                }
            ]
        }
    ]
}
</pre></div>
</div>
</div>
</div>
<p>Import <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> and print the docstring to show some information</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">jwst.pipeline</span><span class="w"> </span><span class="kn">import</span> <span class="n">Spec3Pipeline</span>
<span class="nb">print</span><span class="p">(</span><span class="n">Spec3Pipeline</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>    Spec3Pipeline: Processes JWST spectroscopic exposures from Level 2b to 3.

    Included steps are:
    assign moving target wcs (assign_mtwcs)
    master background subtraction (master_background)
    MIRI MRS background matching (mrs_imatch)
    outlier detection (outlier_detection)
    2-D spectroscopic resampling (resample_spec)
    3-D spectroscopic resampling (cube_build)
    1-D spectral extraction (extract_1d)
    1-D spectral combination (combine_1d)
    
</pre></div>
</div>
</div>
</div>
<p>The association file is passed as input. The output files will be saved in <code class="docutils literal notranslate"><span class="pre">my_output_dir</span></code>.</p>
<p><em>Parameters used:</em></p>
<p><code class="docutils literal notranslate"><span class="pre">save_results</span></code>: boolean, optional, default=False<br />
     save the results to file</p>
<p><code class="docutils literal notranslate"><span class="pre">output_dir</span></code> : boolean, optional, default is the working directory<br />
     the location to save the output</p>
<p><code class="docutils literal notranslate"><span class="pre">steps</span></code> : dict, optional, default None<br />
     pass parameters to steps</p>
<p>The <code class="docutils literal notranslate"><span class="pre">skip</span></code> parameters is passed to <code class="docutils literal notranslate"><span class="pre">master_background'</span> <span class="pre">(becuase</span> <span class="pre">there</span> <span class="pre">is</span> <span class="pre">no</span> <span class="pre">background</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">simulation),</span> </code>outlier_detection<code class="docutils literal notranslate"><span class="pre">(due</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">bug</span> <span class="pre">causing</span> <span class="pre">the</span> <span class="pre">pipeline</span> <span class="pre">to</span> <span class="pre">crash)</span> <span class="pre">and</span></code>skymatch` (which at the moment appears to be overestimating the background resulting in negative fluxes).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># user specified</span>
<span class="n">my_output_dir</span> <span class="o">=</span> <span class="s1">&#39;demo_output&#39;</span>

<span class="c1"># the output directory should be created if it doesn&#39;t exist</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">my_output_dir</span><span class="p">):</span> 
    <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">my_output_dir</span><span class="p">)</span>

<span class="c1"># run the pipeline</span>
<span class="n">Spec3Pipeline</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="n">asn_file</span><span class="p">,</span> <span class="n">save_results</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">output_dir</span><span class="o">=</span><span class="n">my_output_dir</span><span class="p">,</span> 
                   <span class="n">steps</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;master_background&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;skip&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
                          <span class="s1">&#39;outlier_detection&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;skip&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
                          <span class="s1">&#39;mrs_imatch&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;skip&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 12:21:17,528 - CRDS - ERROR -  Error determining best reference for &#39;pars-assignmtwcsstep&#39;  =   Unknown reference type &#39;pars-assignmtwcsstep&#39;
2020-10-29 12:21:20,642 - CRDS - ERROR -  Error determining best reference for &#39;pars-masterbackgroundstep&#39;  =   Unknown reference type &#39;pars-masterbackgroundstep&#39;
2020-10-29 12:21:23,751 - CRDS - ERROR -  Error determining best reference for &#39;pars-mrsimatchstep&#39;  =   Unknown reference type &#39;pars-mrsimatchstep&#39;
2020-10-29 12:21:26,880 - CRDS - ERROR -  Error determining best reference for &#39;pars-outlierdetectionstep&#39;  =   Unknown reference type &#39;pars-outlierdetectionstep&#39;
2020-10-29 12:21:29,889 - CRDS - ERROR -  Error determining best reference for &#39;pars-resamplespecstep&#39;  =   Unknown reference type &#39;pars-resamplespecstep&#39;
2020-10-29 12:21:33,045 - CRDS - ERROR -  Error determining best reference for &#39;pars-cubebuildstep&#39;  =   Unknown reference type &#39;pars-cubebuildstep&#39;
2020-10-29 12:21:36,113 - CRDS - ERROR -  Error determining best reference for &#39;pars-extract1dstep&#39;  =   Unknown reference type &#39;pars-extract1dstep&#39;
2020-10-29 12:21:39,272 - CRDS - ERROR -  Error determining best reference for &#39;pars-combine1dstep&#39;  =   Unknown reference type &#39;pars-combine1dstep&#39;
2020-10-29 12:21:42,301 - CRDS - ERROR -  Error determining best reference for &#39;pars-spec3pipeline&#39;  =   Unknown reference type &#39;pars-spec3pipeline&#39;
2020-10-29 12:21:42,309 - stpipe.Spec3Pipeline - INFO - Spec3Pipeline instance created.
2020-10-29 12:21:42,310 - stpipe.Spec3Pipeline.assign_mtwcs - INFO - AssignMTWcsStep instance created.
2020-10-29 12:21:42,312 - stpipe.Spec3Pipeline.master_background - INFO - MasterBackgroundStep instance created.
2020-10-29 12:21:42,314 - stpipe.Spec3Pipeline.mrs_imatch - INFO - MRSIMatchStep instance created.
2020-10-29 12:21:42,316 - stpipe.Spec3Pipeline.outlier_detection - INFO - OutlierDetectionStep instance created.
2020-10-29 12:21:42,318 - stpipe.Spec3Pipeline.resample_spec - INFO - ResampleSpecStep instance created.
2020-10-29 12:21:42,320 - stpipe.Spec3Pipeline.cube_build - INFO - CubeBuildStep instance created.
2020-10-29 12:21:42,322 - stpipe.Spec3Pipeline.extract_1d - INFO - Extract1dStep instance created.
2020-10-29 12:21:42,324 - stpipe.Spec3Pipeline.combine_1d - INFO - Combine1dStep instance created.
2020-10-29 12:21:42,541 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline running with args (&#39;my_point_source_lvl3_asn.json&#39;,).
2020-10-29 12:21:42,548 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline parameters are: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: &#39;demo_output&#39;, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: True, &#39;skip&#39;: False, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;steps&#39;: {&#39;assign_mtwcs&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: True, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: False, &#39;suffix&#39;: &#39;assign_mtwcs&#39;, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;}, &#39;master_background&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: True, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: True, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;user_background&#39;: None, &#39;save_background&#39;: False, &#39;force_subtract&#39;: False}, &#39;mrs_imatch&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: True, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;bkg_degree&#39;: 1, &#39;subtract&#39;: False}, &#39;outlier_detection&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: True, &#39;suffix&#39;: None, &#39;search_output_file&#39;: False, &#39;input_dir&#39;: &#39;&#39;, &#39;weight_type&#39;: &#39;exptime&#39;, &#39;pixfrac&#39;: 1.0, &#39;kernel&#39;: &#39;square&#39;, &#39;fillval&#39;: &#39;INDEF&#39;, &#39;nlow&#39;: 0, &#39;nhigh&#39;: 0, &#39;maskpt&#39;: 0.7, &#39;grow&#39;: 1, &#39;snr&#39;: &#39;4.0 3.0&#39;, &#39;scale&#39;: &#39;0.5 0.4&#39;, &#39;backg&#39;: 0.0, &#39;save_intermediate_results&#39;: False, &#39;resample_data&#39;: True, &#39;good_bits&#39;: &#39;~DO_NOT_USE&#39;, &#39;scale_detection&#39;: False}, &#39;resample_spec&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: False, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;pixfrac&#39;: 1.0, &#39;kernel&#39;: &#39;square&#39;, &#39;fillval&#39;: &#39;INDEF&#39;, &#39;weight_type&#39;: &#39;exptime&#39;, &#39;single&#39;: False, &#39;blendheaders&#39;: True}, &#39;cube_build&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: True, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: False, &#39;suffix&#39;: None, &#39;search_output_file&#39;: False, &#39;input_dir&#39;: &#39;&#39;, &#39;channel&#39;: &#39;all&#39;, &#39;band&#39;: &#39;all&#39;, &#39;grating&#39;: &#39;all&#39;, &#39;filter&#39;: &#39;all&#39;, &#39;output_type&#39;: &#39;band&#39;, &#39;scale1&#39;: 0.0, &#39;scale2&#39;: 0.0, &#39;scalew&#39;: 0.0, &#39;weighting&#39;: &#39;emsm&#39;, &#39;coord_system&#39;: &#39;skyalign&#39;, &#39;rois&#39;: 0.0, &#39;roiw&#39;: 0.0, &#39;weight_power&#39;: 0.0, &#39;wavemin&#39;: None, &#39;wavemax&#39;: None, &#39;single&#39;: False, &#39;xdebug&#39;: None, &#39;ydebug&#39;: None, &#39;zdebug&#39;: None, &#39;skip_dqflagging&#39;: False}, &#39;extract_1d&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: False, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;smoothing_length&#39;: None, &#39;bkg_order&#39;: None, &#39;log_increment&#39;: 50, &#39;subtract_background&#39;: None, &#39;use_source_posn&#39;: None, &#39;apply_apcorr&#39;: True}, &#39;combine_1d&#39;: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: False, &#39;suffix&#39;: None, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;exptime_key&#39;: &#39;exposure_time&#39;}}}
2020-10-29 12:21:45,523 - stpipe.Spec3Pipeline - INFO - Prefetching reference files for dataset: &#39;my_point_source_exposure10_cal.fits&#39; reftypes = [&#39;apcorr&#39;, &#39;cubepar&#39;, &#39;drizpars&#39;, &#39;extract1d&#39;, &#39;resol&#39;]
2020-10-29 12:21:45,530 - stpipe.Spec3Pipeline - INFO - Prefetch for APCORR reference file is &#39;/Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits&#39;.
2020-10-29 12:21:45,531 - stpipe.Spec3Pipeline - INFO - Prefetch for CUBEPAR reference file is &#39;/Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_cubepar_0003.fits&#39;.
2020-10-29 12:21:45,531 - stpipe.Spec3Pipeline - INFO - Prefetch for DRIZPARS reference file is &#39;/Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_drizpars_0001.fits&#39;.
2020-10-29 12:21:45,532 - stpipe.Spec3Pipeline - INFO - Prefetch for EXTRACT1D reference file is &#39;/Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json&#39;.
2020-10-29 12:21:45,533 - stpipe.Spec3Pipeline - INFO - Prefetch for RESOL reference file is &#39;/Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_resol_0003.fits&#39;.
2020-10-29 12:21:45,534 - stpipe.Spec3Pipeline - INFO - Starting calwebb_spec3 ...
2020-10-29 12:22:18,719 - stpipe.Spec3Pipeline.mrs_imatch - INFO - Step mrs_imatch running with args (&lt;ModelContainer&gt;,).
2020-10-29 12:22:18,721 - stpipe.Spec3Pipeline.mrs_imatch - INFO - Step mrs_imatch parameters are: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: False, &#39;skip&#39;: True, &#39;suffix&#39;: &#39;mrs_imatch&#39;, &#39;search_output_file&#39;: True, &#39;input_dir&#39;: &#39;&#39;, &#39;bkg_degree&#39;: 1, &#39;subtract&#39;: False}
2020-10-29 12:22:18,722 - stpipe.Spec3Pipeline.mrs_imatch - INFO - Step skipped.
2020-10-29 12:22:18,726 - stpipe.Spec3Pipeline.mrs_imatch - INFO - Step mrs_imatch done
2020-10-29 12:22:19,050 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step outlier_detection running with args (&lt;ModelContainer&gt;,).
2020-10-29 12:22:19,051 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step outlier_detection parameters are: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: True, &#39;skip&#39;: True, &#39;suffix&#39;: &#39;crf&#39;, &#39;search_output_file&#39;: False, &#39;input_dir&#39;: &#39;&#39;, &#39;weight_type&#39;: &#39;exptime&#39;, &#39;pixfrac&#39;: 1.0, &#39;kernel&#39;: &#39;square&#39;, &#39;fillval&#39;: &#39;INDEF&#39;, &#39;nlow&#39;: 0, &#39;nhigh&#39;: 0, &#39;maskpt&#39;: 0.7, &#39;grow&#39;: 1, &#39;snr&#39;: &#39;4.0 3.0&#39;, &#39;scale&#39;: &#39;0.5 0.4&#39;, &#39;backg&#39;: 0.0, &#39;save_intermediate_results&#39;: False, &#39;resample_data&#39;: True, &#39;good_bits&#39;: &#39;~DO_NOT_USE&#39;, &#39;scale_detection&#39;: False}
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 12:22:19,052 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step skipped.
2020-10-29 12:22:19,056 - stpipe.Spec3Pipeline.outlier_detection - INFO - Step outlier_detection done
2020-10-29 12:22:19,382 - stpipe.Spec3Pipeline.cube_build - INFO - Step cube_build running with args (&lt;ModelContainer&gt;,).
2020-10-29 12:22:19,384 - stpipe.Spec3Pipeline.cube_build - INFO - Step cube_build parameters are: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: True, &#39;output_use_index&#39;: True, &#39;save_results&#39;: True, &#39;skip&#39;: False, &#39;suffix&#39;: &#39;s3d&#39;, &#39;search_output_file&#39;: False, &#39;input_dir&#39;: &#39;&#39;, &#39;channel&#39;: &#39;all&#39;, &#39;band&#39;: &#39;all&#39;, &#39;grating&#39;: &#39;all&#39;, &#39;filter&#39;: &#39;all&#39;, &#39;output_type&#39;: &#39;band&#39;, &#39;scale1&#39;: 0.0, &#39;scale2&#39;: 0.0, &#39;scalew&#39;: 0.0, &#39;weighting&#39;: &#39;emsm&#39;, &#39;coord_system&#39;: &#39;skyalign&#39;, &#39;rois&#39;: 0.0, &#39;roiw&#39;: 0.0, &#39;weight_power&#39;: 0.0, &#39;wavemin&#39;: None, &#39;wavemax&#39;: None, &#39;single&#39;: False, &#39;xdebug&#39;: None, &#39;ydebug&#39;: None, &#39;zdebug&#39;: None, &#39;skip_dqflagging&#39;: False}
2020-10-29 12:22:19,385 - stpipe.Spec3Pipeline.cube_build - INFO - Starting IFU Cube Building Step
2020-10-29 12:22:19,386 - stpipe.Spec3Pipeline.cube_build - INFO - Input interpolation: pointcloud
2020-10-29 12:22:19,386 - stpipe.Spec3Pipeline.cube_build - INFO - Coordinate system to use: skyalign
2020-10-29 12:22:19,387 - stpipe.Spec3Pipeline.cube_build - INFO - Weighting method for point cloud: emsm
2020-10-29 12:22:19,595 - stpipe.Spec3Pipeline.cube_build - INFO - The desired cubes cover the MIRI Channels: [&#39;1&#39;, &#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;2&#39;, &#39;2&#39;, &#39;3&#39;, &#39;3&#39;, &#39;3&#39;, &#39;4&#39;, &#39;4&#39;, &#39;4&#39;]
2020-10-29 12:22:19,596 - stpipe.Spec3Pipeline.cube_build - INFO - The desired cubes cover the MIRI subchannels: [&#39;short&#39;, &#39;medium&#39;, &#39;long&#39;, &#39;short&#39;, &#39;medium&#39;, &#39;long&#39;, &#39;short&#39;, &#39;medium&#39;, &#39;long&#39;, &#39;short&#39;, &#39;medium&#39;, &#39;long&#39;]
2020-10-29 12:22:19,596 - stpipe.Spec3Pipeline.cube_build - INFO - Reading cube parameter file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_cubepar_0003.fits
2020-10-29 12:22:20,893 - stpipe.Spec3Pipeline.cube_build - INFO - Output Cubes are single channel, single sub-channel IFU Cubes
2020-10-29 12:22:20,894 - stpipe.Spec3Pipeline.cube_build - INFO - Number of IFU cubes produced by this run = 12
2020-10-29 12:22:20,896 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:22:21,563 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:22:21,564 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:22:21,565 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    51  26.00   0.00000554   0.13000000  -3.31499988   3.31499988
2020-10-29 12:22:21,565 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    41  21.00   0.00000764   0.13000000  -2.66499990   2.66499990
2020-10-29 12:22:21,566 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:22:21,567 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   850   1.00   4.89049987   0.00100000   4.88999987   5.73999991
2020-10-29 12:22:21,567 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 1, short
2020-10-29 12:22:21,568 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch1-short_s3d.fits
2020-10-29 12:22:21,989 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6617 with wavelength below 4.889499866461847
2020-10-29 12:22:21,990 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11821 with wavelength above 5.740499906882178
2020-10-29 12:22:22,036 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.5 s
2020-10-29 12:23:11,755 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 49.7 s
2020-10-29 12:24:25,120 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 73.4 s
2020-10-29 12:24:25,511 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6617 with wavelength below 4.889499866461847
2020-10-29 12:24:25,512 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11821 with wavelength above 5.740499906882178
2020-10-29 12:24:25,570 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:25:17,294 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 51.7 s
2020-10-29 12:26:29,800 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 72.5 s
2020-10-29 12:26:29,861 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:26:29,862 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:26:29,863 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:26:31,864 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 1
2020-10-29 12:26:31,902 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:26:32,603 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:26:32,604 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:26:32,605 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    49  25.00   0.00001065   0.13000000  -3.18499988   3.18499988
2020-10-29 12:26:32,605 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    39  20.00  -0.00003592   0.13000000  -2.53499991   2.53499991
2020-10-29 12:26:32,606 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:26:32,606 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   980   1.00   5.64049987   0.00100000   5.63999987   6.61999991
2020-10-29 12:26:32,607 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 1, medium
2020-10-29 12:26:32,608 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch1-medium_s3d.fits
2020-10-29 12:26:33,053 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6386 with wavelength below 5.639499866461847
2020-10-29 12:26:33,054 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11340 with wavelength above 6.620499913056847
2020-10-29 12:26:33,105 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.5 s
2020-10-29 12:27:26,823 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 53.7 s
2020-10-29 12:28:40,217 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 73.4 s
2020-10-29 12:28:40,637 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6386 with wavelength below 5.639499866461847
2020-10-29 12:28:40,637 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11340 with wavelength above 6.620499913056847
2020-10-29 12:28:40,692 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.5 s
2020-10-29 12:29:36,770 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 56.1 s
2020-10-29 12:30:50,942 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 74.2 s
2020-10-29 12:30:51,011 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:30:51,012 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:30:51,013 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:30:53,367 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 1
2020-10-29 12:30:53,405 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:30:54,038 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:30:54,039 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:30:54,039 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    49  25.00   0.00002678   0.13000000  -3.18499988   3.18499988
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 12:30:54,040 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    39  20.00   0.00004545   0.13000000  -2.53499991   2.53499991
2020-10-29 12:30:54,040 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:30:54,041 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3  1091   1.00   6.42050008   0.00100000   6.42000008   7.51100013
2020-10-29 12:30:54,042 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 1, long
2020-10-29 12:30:54,043 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch1-long_s3d.fits
2020-10-29 12:30:54,444 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7703 with wavelength below 6.419500076270197
2020-10-29 12:30:54,444 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11127 with wavelength above 7.511500128137413
2020-10-29 12:30:54,496 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.5 s
2020-10-29 12:31:53,663 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 59.2 s
2020-10-29 12:33:05,231 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 71.6 s
2020-10-29 12:33:05,619 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7703 with wavelength below 6.419500076270197
2020-10-29 12:33:05,620 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11127 with wavelength above 7.511500128137413
2020-10-29 12:33:05,672 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:34:07,364 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 61.7 s
2020-10-29 12:35:18,416 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 71.1 s
2020-10-29 12:35:18,499 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:35:18,500 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:35:18,501 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:35:20,435 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 1
2020-10-29 12:35:20,473 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:35:21,097 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:35:21,098 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:35:21,099 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    45  23.00   0.00000544   0.17000000  -3.82500004   3.82500004
2020-10-29 12:35:21,099 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    37  19.00  -0.00008178   0.17000000  -3.14500003   3.14500003
2020-10-29 12:35:21,100 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:35:21,101 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   631   1.00   7.49099977   0.00200000   7.48999977   8.75199983
2020-10-29 12:35:21,101 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 2, short
2020-10-29 12:35:21,102 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch2-short_s3d.fits
2020-10-29 12:35:21,475 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 9353 with wavelength below 7.488999771070667
2020-10-29 12:35:21,476 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 13669 with wavelength above 8.752999831107445
2020-10-29 12:35:21,526 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:35:52,450 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 30.9 s
2020-10-29 12:36:47,124 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 54.7 s
2020-10-29 12:36:47,486 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 9353 with wavelength below 7.488999771070667
2020-10-29 12:36:47,487 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 13669 with wavelength above 8.752999831107445
2020-10-29 12:36:47,543 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:37:19,913 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 32.4 s
2020-10-29 12:38:16,046 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 56.1 s
2020-10-29 12:38:16,083 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:38:16,083 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:38:16,084 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 12:38:18,413 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 2
2020-10-29 12:38:18,447 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:38:19,047 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:38:19,048 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:38:19,049 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    45  23.00  -0.00003404   0.17000000  -3.82500004   3.82500004
2020-10-29 12:38:19,049 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    37  19.00  -0.00014826   0.17000000  -3.14500003   3.14500003
2020-10-29 12:38:19,050 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:38:19,051 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   750   1.00   8.72100027   0.00200000   8.72000027  10.22000034
2020-10-29 12:38:19,051 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 2, medium
2020-10-29 12:38:19,052 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch2-medium_s3d.fits
2020-10-29 12:38:19,421 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7942 with wavelength below 8.719000266981311
2020-10-29 12:38:19,422 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11827 with wavelength above 10.221000338322483
2020-10-29 12:38:19,469 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:38:56,399 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 36.9 s
2020-10-29 12:39:58,984 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 62.6 s
2020-10-29 12:39:59,346 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7942 with wavelength below 8.719000266981311
2020-10-29 12:39:59,346 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11827 with wavelength above 10.221000338322483
2020-10-29 12:39:59,408 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:40:37,236 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 37.8 s
2020-10-29 12:41:39,944 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 62.7 s
2020-10-29 12:41:39,988 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:41:39,989 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:41:39,990 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 12:41:41,850 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 2
2020-10-29 12:41:41,887 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:41:42,493 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:41:42,494 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 12:41:42,494 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    45  23.00   0.00002886   0.17000000  -3.82500004   3.82500004
2020-10-29 12:41:42,495 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    37  19.00  -0.00013414   0.17000000  -3.14500003   3.14500003
2020-10-29 12:41:42,496 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:41:42,496 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   855   1.00  10.03099973   0.00200000  10.02999973  11.73999981
2020-10-29 12:41:42,497 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 2, long
2020-10-29 12:41:42,498 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch2-long_s3d.fits
2020-10-29 12:41:42,854 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8411 with wavelength below 10.028999732923694
2020-10-29 12:41:42,855 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 12388 with wavelength above 11.74099981423933
2020-10-29 12:41:42,902 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:42:24,100 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 41.2 s
2020-10-29 12:43:34,921 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 70.8 s
2020-10-29 12:43:35,786 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 8411 with wavelength below 10.028999732923694
2020-10-29 12:43:35,787 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 12388 with wavelength above 11.74099981423933
2020-10-29 12:43:35,840 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.9 s
2020-10-29 12:44:19,652 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 43.8 s
2020-10-29 12:45:33,591 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 73.9 s
2020-10-29 12:45:33,649 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:45:33,650 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:45:33,651 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:45:35,692 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 2
2020-10-29 12:45:35,729 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:45:36,387 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:45:36,388 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:45:36,389 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    49  25.00  -0.00013853   0.20000000  -4.90000007   4.90000007
2020-10-29 12:45:36,390 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    41  21.00  -0.00001006   0.20000000  -4.10000006   4.10000006
2020-10-29 12:45:36,391 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:45:36,392 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   650   1.00  11.53149973   0.00300000  11.52999973  13.47999975
2020-10-29 12:45:36,393 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 3, short
2020-10-29 12:45:36,394 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch3-short_s3d.fits
2020-10-29 12:45:36,785 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7784 with wavelength below 11.528499732958153
2020-10-29 12:45:36,786 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11841 with wavelength above 13.4814997499343
2020-10-29 12:45:36,837 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:46:18,607 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 41.8 s
2020-10-29 12:47:29,949 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 71.3 s
2020-10-29 12:47:30,315 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7784 with wavelength below 11.528499732958153
2020-10-29 12:47:30,316 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11841 with wavelength above 13.4814997499343
2020-10-29 12:47:30,372 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:48:11,381 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 41.0 s
2020-10-29 12:49:26,256 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 74.9 s
2020-10-29 12:49:26,303 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:49:26,303 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:49:26,305 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 12:49:28,692 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 3
2020-10-29 12:49:28,731 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:49:29,364 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:49:29,365 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:49:29,365 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    47  24.00  -0.00011257   0.20000000  -4.70000007   4.70000007
2020-10-29 12:49:29,366 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    41  21.00  -0.00007863   0.20000000  -4.10000006   4.10000006
2020-10-29 12:49:29,366 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:49:29,367 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   757   1.00  13.37149989   0.00300000  13.36999989  15.64099991
2020-10-29 12:49:29,368 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 3, medium
2020-10-29 12:49:29,369 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch3-medium_s3d.fits
2020-10-29 12:49:29,742 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6977 with wavelength below 13.368499885546044
2020-10-29 12:49:29,743 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11286 with wavelength above 15.642499905312434
2020-10-29 12:49:29,792 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:50:16,165 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 46.4 s
2020-10-29 12:51:39,985 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 83.8 s
2020-10-29 12:51:40,354 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6977 with wavelength below 13.368499885546044
2020-10-29 12:51:40,355 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 11286 with wavelength above 15.642499905312434
2020-10-29 12:51:40,419 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:52:27,345 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 46.9 s
2020-10-29 12:53:53,784 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 86.4 s
2020-10-29 12:53:53,844 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:53:53,845 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:53:53,846 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:53:55,867 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 3
2020-10-29 12:53:55,905 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:53:56,597 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 12:53:56,598 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:53:56,599 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    47  24.00  -0.00013548   0.20000000  -4.70000007   4.70000007
2020-10-29 12:53:56,599 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    41  21.00  -0.00007256   0.20000000  -4.10000006   4.10000006
2020-10-29 12:53:56,600 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:53:56,601 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   877   1.00  15.44149958   0.00300000  15.43999958  18.07099960
2020-10-29 12:53:56,601 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 3, long
2020-10-29 12:53:56,602 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch3-long_s3d.fits
2020-10-29 12:53:56,995 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7034 with wavelength below 15.438499580370262
2020-10-29 12:53:56,996 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 9855 with wavelength above 18.072499603265896
2020-10-29 12:53:57,054 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.5 s
2020-10-29 12:54:49,711 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 52.7 s
2020-10-29 12:56:30,798 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 101.1 s
2020-10-29 12:56:31,177 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 7034 with wavelength below 15.438499580370262
2020-10-29 12:56:31,178 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 9855 with wavelength above 18.072499603265896
2020-10-29 12:56:31,234 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:57:25,236 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 54.0 s
2020-10-29 12:59:03,345 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 98.1 s
2020-10-29 12:59:03,410 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 12:59:03,411 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 12:59:03,412 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.1 s
2020-10-29 12:59:05,812 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 3
2020-10-29 12:59:05,850 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 12:59:06,410 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 12:59:06,411 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 12:59:06,411 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    35  18.00   0.00006316   0.34999999  -6.12499990   6.12499990
2020-10-29 12:59:06,412 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    29  15.00  -0.00016948   0.34999999  -5.07499991   5.07499991
2020-10-29 12:59:06,413 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 12:59:06,413 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   546   1.00  17.66299985   0.00600000  17.65999985  20.93599988
2020-10-29 12:59:06,414 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 4, short
2020-10-29 12:59:06,415 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch4-short_s3d.fits
2020-10-29 12:59:06,736 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5749 with wavelength below 17.656999847386032
2020-10-29 12:59:06,736 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5741 with wavelength above 20.938999875914305
2020-10-29 12:59:06,782 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 12:59:24,517 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 17.7 s
2020-10-29 13:00:16,453 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 51.9 s
2020-10-29 13:00:16,777 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5749 with wavelength below 17.656999847386032
2020-10-29 13:00:16,778 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5741 with wavelength above 20.938999875914305
2020-10-29 13:00:16,824 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 13:00:34,268 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 17.4 s
2020-10-29 13:01:26,524 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 52.3 s
2020-10-29 13:01:26,541 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 13:01:26,541 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 13:01:26,542 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 13:01:28,385 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 4
2020-10-29 13:01:28,416 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 13:01:28,961 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 13:01:28,961 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 13:01:28,962 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    35  18.00   0.00006653   0.34999999  -6.12499990   6.12499990
2020-10-29 13:01:28,962 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    29  15.00  -0.00015177   0.34999999  -5.07499991   5.07499991
2020-10-29 13:01:28,963 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 13:01:28,964 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   632   1.00  20.42300008   0.00600000  20.42000008  24.21200011
2020-10-29 13:01:28,964 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 4, medium
2020-10-29 13:01:28,965 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch4-medium_s3d.fits
2020-10-29 13:01:29,294 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 4506 with wavelength below 20.41700007626787
2020-10-29 13:01:29,295 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6252 with wavelength above 24.21500010928139
2020-10-29 13:01:29,345 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 13:01:49,518 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 20.2 s
2020-10-29 13:02:50,696 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 61.2 s
2020-10-29 13:02:51,019 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 4506 with wavelength below 20.41700007626787
2020-10-29 13:02:51,020 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 6252 with wavelength above 24.21500010928139
2020-10-29 13:02:51,068 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 13:03:11,595 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 20.5 s
2020-10-29 13:04:15,642 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 64.0 s
2020-10-29 13:04:15,663 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 13:04:15,664 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 13:04:15,665 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 13:04:18,255 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 4
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:04:18,288 - stpipe.Spec3Pipeline.cube_build - INFO - Number of bands in cube: 1
2020-10-29 13:04:18,855 - stpipe.Spec3Pipeline.cube_build - INFO - Cube Geometry:
2020-10-29 13:04:18,856 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(arcsec)  Min &amp; Max (xi, eta arcsec)
2020-10-29 13:04:18,856 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 1    35  18.00   0.00006629   0.34999999  -6.12499990   6.12499990
2020-10-29 13:04:18,857 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 2    29  15.00  -0.00013666   0.34999999  -5.07499991   5.07499991
2020-10-29 13:04:18,857 - stpipe.Spec3Pipeline.cube_build - INFO - axis#  Naxis  CRPIX    CRVAL      CDELT(microns)  Min &amp; Max (microns)
2020-10-29 13:04:18,858 - stpipe.Spec3Pipeline.cube_build - INFO - Axis 3   741   1.00  23.89299939   0.00600000  23.88999939  28.33599943
2020-10-29 13:04:18,859 - stpipe.Spec3Pipeline.cube_build - INFO - Cube covers channel, subchannel: 4, long
2020-10-29 13:04:18,859 - stpipe.Spec3Pipeline.cube_build - INFO - Output Name: my_point_source_ch4-long_s3d.fits
2020-10-29 13:04:19,187 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5021 with wavelength below 23.88699938962236
2020-10-29 13:04:19,188 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5310 with wavelength above 28.338999428320676
2020-10-29 13:04:19,231 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 13:04:44,024 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 24.8 s
2020-10-29 13:05:57,410 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 73.4 s
2020-10-29 13:05:57,747 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5021 with wavelength below 23.88699938962236
2020-10-29 13:05:57,748 - stpipe.Spec3Pipeline.cube_build - INFO - # of detector pixels not mapped to output plane: 5310 with wavelength above 28.338999428320676
2020-10-29 13:05:57,798 - stpipe.Spec3Pipeline.cube_build - INFO - Time to transform pixels to output frame = 0.4 s
2020-10-29 13:06:22,226 - stpipe.Spec3Pipeline.cube_build - INFO - Time to set initial dq values = 24.4 s
2020-10-29 13:07:36,511 - stpipe.Spec3Pipeline.cube_build - INFO - Time to match file to ifucube = 74.3 s
2020-10-29 13:07:36,539 - stpipe.Spec3Pipeline.cube_build - INFO - Average # of holes/wavelength plane is &lt; 1
2020-10-29 13:07:36,540 - stpipe.Spec3Pipeline.cube_build - INFO - Total # of holes for IFU cube is : 0
2020-10-29 13:07:36,541 - stpipe.Spec3Pipeline.cube_build - INFO - Time to find Cube Flux = 0.0 s
2020-10-29 13:07:38,399 - stpipe.Spec3Pipeline.cube_build - INFO - IFUChannel 4
2020-10-29 13:07:38,430 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.000908318 -0.000714579 0.000908318 0.000729865 359.999102763 0.000729865 359.999102763 -0.000714579
2020-10-29 13:07:38,433 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.000877317 -0.000722028 0.000877317 0.000650194 359.999143984 0.000650194 359.999143984 -0.000722028
2020-10-29 13:07:38,436 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.000893443 -0.000640661 0.000893443 0.000731561 359.999160110 0.000731561 359.999160110 -0.000640661
2020-10-29 13:07:38,439 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001044329 -0.000931785 0.001044329 0.000768215 359.998966552 0.000768215 359.998966552 -0.000931785
2020-10-29 13:07:38,442 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001004848 -0.000998258 0.001004848 0.000701742 359.998927070 0.000701742 359.998927070 -0.000998258
2020-10-29 13:07:38,445 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001067750 -0.000984137 0.001067750 0.000715863 359.998989972 0.000715863 359.998989972 -0.000984137
2020-10-29 13:07:38,447 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001194806 -0.001121170 0.001194806 0.001101052 359.998528139 0.001101052 359.998528139 -0.001121170
2020-10-29 13:07:38,450 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001165213 -0.001189740 0.001165213 0.001032482 359.998609657 0.001032482 359.998609657 -0.001189740
2020-10-29 13:07:38,452 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001142293 -0.001183670 0.001142293 0.001038553 359.998586738 0.001038553 359.998586738 -0.001183670
2020-10-29 13:07:38,455 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001715941 -0.001530586 0.001715941 0.001191636 359.998410385 0.001191636 359.998410385 -0.001530586
2020-10-29 13:07:38,458 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001719308 -0.001512886 0.001719308 0.001209336 359.998413752 0.001209336 359.998413752 -0.001512886
2020-10-29 13:07:38,461 - stpipe.Spec3Pipeline.cube_build - INFO - Update S_REGION to POLYGON ICRS  0.001719066 -0.001497769 0.001719066 0.001224454 359.998413510 0.001224454 359.998413510 -0.001497769
2020-10-29 13:07:39,200 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch1-short_s3d.fits
2020-10-29 13:07:39,893 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch1-medium_s3d.fits
2020-10-29 13:07:41,088 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch1-long_s3d.fits
2020-10-29 13:07:41,721 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch2-short_s3d.fits
2020-10-29 13:07:42,367 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch2-medium_s3d.fits
2020-10-29 13:07:43,024 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch2-long_s3d.fits
2020-10-29 13:07:43,673 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch3-short_s3d.fits
2020-10-29 13:07:44,337 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch3-medium_s3d.fits
2020-10-29 13:07:45,008 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch3-long_s3d.fits
2020-10-29 13:07:45,626 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch4-short_s3d.fits
2020-10-29 13:07:46,238 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch4-medium_s3d.fits
2020-10-29 13:07:46,851 - stpipe.Spec3Pipeline.cube_build - INFO - Saved model in demo_output/my_point_source_ch4-long_s3d.fits
2020-10-29 13:07:46,852 - stpipe.Spec3Pipeline.cube_build - INFO - Step cube_build done
2020-10-29 13:07:47,248 - stpipe.Spec3Pipeline.extract_1d - INFO - Step extract_1d running with args (&lt;ModelContainer&gt;,).
2020-10-29 13:07:47,250 - stpipe.Spec3Pipeline.extract_1d - INFO - Step extract_1d parameters are: {&#39;pre_hooks&#39;: [], &#39;post_hooks&#39;: [], &#39;output_file&#39;: None, &#39;output_dir&#39;: None, &#39;output_ext&#39;: &#39;.fits&#39;, &#39;output_use_model&#39;: False, &#39;output_use_index&#39;: True, &#39;save_results&#39;: True, &#39;skip&#39;: False, &#39;suffix&#39;: &#39;x1d&#39;, &#39;search_output_file&#39;: False, &#39;input_dir&#39;: &#39;&#39;, &#39;smoothing_length&#39;: None, &#39;bkg_order&#39;: None, &#39;log_increment&#39;: 50, &#39;subtract_background&#39;: None, &#39;use_source_posn&#39;: None, &#39;apply_apcorr&#39;: True}
2020-10-29 13:07:47,255 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:47,258 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:47,351 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:47,351 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:47,352 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
2020-10-29 13:07:49,292 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:49,294 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:49,334 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:49,334 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:49,335 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 3.9721757086029103e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:51,536 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:51,539 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:51,578 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:51,579 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:51,579 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 3.9721757086029103e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:54,060 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:54,062 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:54,104 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:54,105 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:54,105 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 3.9721757086029103e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:55,559 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:55,562 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:55,602 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:55,602 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:55,603 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 6.792656142896652e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:57,266 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:57,268 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:57,307 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:57,308 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:57,309 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 6.792656142896652e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:07:59,244 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:07:59,247 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:07:59,285 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:07:59,286 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:07:59,286 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 6.792656142896652e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:00,766 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:08:00,768 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:08:00,804 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:08:00,805 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:08:00,806 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 9.401600280189515e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:02,489 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:08:02,491 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:08:02,528 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:08:02,529 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:08:02,530 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 9.401600280189515e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:04,481 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:08:04,484 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:08:04,520 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:08:04,521 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:08:04,521 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 9.401600280189515e-13
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:05,545 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:08:05,548 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:08:05,587 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:08:05,588 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:08:05,589 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 2.8792399019336705e-12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:06,776 - stpipe.Spec3Pipeline.extract_1d - INFO - Using EXTRACT1D reference file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_extract1d_0003.json
2020-10-29 13:08:06,779 - stpipe.Spec3Pipeline.extract_1d - INFO - Using APCORR file /Users/patrickkavanagh/crds_mirror/references/jwst/miri/jwst_miri_apcorr_0006.fits
2020-10-29 13:08:06,817 - stpipe.Spec3Pipeline.extract_1d - INFO - Turning on source position correction for exp_type = MIR_MRS
2020-10-29 13:08:06,818 - stpipe.Spec3Pipeline.extract_1d - INFO - Setting use_source_posn to False for source type EXTENDED
2020-10-29 13:08:06,819 - stpipe.Spec3Pipeline.extract_1d - INFO - Source type = EXTENDED
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 2.8792399019336705e-12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:08,318 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch1-short_x1d.fits
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False 2.8792399019336705e-12
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-10-29 13:08:08,412 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch1-medium_x1d.fits
2020-10-29 13:08:08,501 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch1-long_x1d.fits
2020-10-29 13:08:08,592 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch2-short_x1d.fits
2020-10-29 13:08:08,681 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch2-medium_x1d.fits
2020-10-29 13:08:08,771 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch2-long_x1d.fits
2020-10-29 13:08:08,860 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch3-short_x1d.fits
2020-10-29 13:08:08,953 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch3-medium_x1d.fits
2020-10-29 13:08:09,045 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch3-long_x1d.fits
2020-10-29 13:08:09,133 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch4-short_x1d.fits
2020-10-29 13:08:09,221 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch4-medium_x1d.fits
2020-10-29 13:08:09,313 - stpipe.Spec3Pipeline.extract_1d - INFO - Saved model in demo_output/my_point_source_ch4-long_x1d.fits
2020-10-29 13:08:09,313 - stpipe.Spec3Pipeline.extract_1d - INFO - Step extract_1d done
2020-10-29 13:08:09,323 - stpipe.Spec3Pipeline - INFO - Ending calwebb_spec3
2020-10-29 13:08:09,324 - stpipe.Spec3Pipeline - INFO - Step Spec3Pipeline done
</pre></div>
</div>
</div>
</div>
<p>We can plot the combined cubes in each MRS sub-band</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cube_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">my_output_dir</span><span class="p">,</span> <span class="s1">&#39;*s3d.fits&#39;</span><span class="p">))</span>
<span class="n">cube_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">cube_files</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">))</span>
<span class="n">axs</span> <span class="o">=</span> <span class="n">axs</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>

<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">cube_files</span><span class="p">):</span>
    <span class="n">cdm</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">cdm</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">200</span><span class="p">:</span><span class="o">-</span><span class="mi">200</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;jet&#39;</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> 
                  <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="n">LogNorm</span><span class="p">())</span>
    <span class="n">axs</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="o">.</span><span class="n">set_facecolor</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/d6157bcd6a51f69a054695e5da70c36c25c4267001ba6ee103d1073563d411c2.png" src="../../_images/d6157bcd6a51f69a054695e5da70c36c25c4267001ba6ee103d1073563d411c2.png" />
</div>
</div>
<p>Since we have set the source type to ‘POINT’ above, the extract_1d step will use an aperture extraction and subtract a background with default values. The aperture centre is at pixel x/2, y/2, the radius is y/4, and the background annulus is from the radius to the radius*sqrt(2). In the future, more advanced extraction methods are planned. One can set also the aperture properties using a custom aperture reference file. Please contact <a class="reference external" href="mailto:pkavanagh&#37;&#52;&#48;cp&#46;dias&#46;ie">pkavanagh<span>&#64;</span>cp<span>&#46;</span>dias<span>&#46;</span>ie</a> if you want to do this.</p>
<p>We can also plot the spectra. Note that an additional aperture correction factor for the encircled energy in the aperture should also be applied but we forego this here since the CDPs are currently not available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">spec_files</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">my_output_dir</span><span class="p">,</span> <span class="s1">&#39;*1d.fits&#39;</span><span class="p">))</span>
<span class="n">spec_files</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">spec_files</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;axes&#39;</span><span class="p">,</span> <span class="n">prop_cycle</span><span class="o">=</span><span class="p">(</span><span class="n">cycler</span><span class="p">(</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])))</span>

<span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">spec_files</span><span class="p">):</span>
    <span class="n">sdm</span> <span class="o">=</span> <span class="n">datamodels</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">axs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sdm</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="p">[</span><span class="s1">&#39;WAVELENGTH&#39;</span><span class="p">][</span><span class="mi">20</span><span class="p">:</span><span class="o">-</span><span class="mi">20</span><span class="p">],</span>
                <span class="n">sdm</span><span class="o">.</span><span class="n">spec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">spec_table</span><span class="p">[</span><span class="s1">&#39;FLUX&#39;</span><span class="p">][</span><span class="mi">20</span><span class="p">:</span><span class="o">-</span><span class="mi">20</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">axs</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Flux (Jy)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>

<span class="n">axs</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;micron&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">22</span><span class="p">)</span>
<span class="n">axs</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/0c6a78b29b581a414187fd4ea37a78838ca308128aa07fb596fe80e2a399e7c6.png" src="../../_images/0c6a78b29b581a414187fd4ea37a78838ca308128aa07fb596fe80e2a399e7c6.png" />
</div>
</div>
</section>
<section id="command-line">
<h2>Command line<a class="headerlink" href="#command-line" title="Link to this heading">#</a></h2>
<p>To achieve the same result from the command line there are a couple of options. However, one must still generate the association file. In this case, it is best to copy the template above into a text file and save it to <code class="docutils literal notranslate"><span class="pre">my_point_source_lvl3_asn.json</span></code>. The content is printed here for convenience.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;asn_type&quot;</span><span class="p">:</span> <span class="s2">&quot;spec3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;asn_rule&quot;</span><span class="p">:</span> <span class="s2">&quot;DMS_Level3_Base&quot;</span><span class="p">,</span>
    <span class="s2">&quot;version_id&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;code_version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.13.7&quot;</span><span class="p">,</span>
    <span class="s2">&quot;degraded_status&quot;</span><span class="p">:</span> <span class="s2">&quot;No known degraded exposures in association.&quot;</span><span class="p">,</span>
    <span class="s2">&quot;program&quot;</span><span class="p">:</span> <span class="s2">&quot;noprogram&quot;</span><span class="p">,</span>
    <span class="s2">&quot;constraints&quot;</span><span class="p">:</span> <span class="s2">&quot;No constraints&quot;</span><span class="p">,</span>
    <span class="s2">&quot;asn_id&quot;</span><span class="p">:</span> <span class="s2">&quot;a3001&quot;</span><span class="p">,</span>
    <span class="s2">&quot;target&quot;</span><span class="p">:</span> <span class="s2">&quot;none&quot;</span><span class="p">,</span>
    <span class="s2">&quot;asn_pool&quot;</span><span class="p">:</span> <span class="s2">&quot;my_point_source_pool&quot;</span><span class="p">,</span>
    <span class="s2">&quot;products&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;my_point_source&quot;</span><span class="p">,</span>
            <span class="s2">&quot;members&quot;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure10_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure11_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure12_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure1_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure2_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure3_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure4_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure5_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure6_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure7_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure8_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s2">&quot;expname&quot;</span><span class="p">:</span> <span class="s2">&quot;MRS_science/my_point_source_exposure9_photom.fits&quot;</span><span class="p">,</span>
                    <span class="s2">&quot;exptype&quot;</span><span class="p">:</span> <span class="s2">&quot;science&quot;</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Option 1:</strong>
Run the <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> class using the <code class="docutils literal notranslate"><span class="pre">strun</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>demo_output

strun<span class="w"> </span>jwst.pipeline.Spec3Pipeline<span class="w"> </span>my_point_source_lvl3_asn.json<span class="w"> </span>--output_dir<span class="w"> </span>demo_output<span class="w"> </span>--steps.master_background.skip<span class="w"> </span>True<span class="w"> </span>--steps.outlier_detection.skip<span class="w"> </span>True<span class="w"> </span>--steps.mrs_imatch.skip<span class="w"> </span>True<span class="w"> </span>
</pre></div>
</div>
<p>This will produce the same output file in the user-defined <code class="docutils literal notranslate"><span class="pre">--output_dir</span></code></p>
<p><strong>Option 2:</strong>
Collect the pipeline configuration files in your working directory (if they are not already there) using <code class="docutils literal notranslate"><span class="pre">collect_pipeline_configs</span></code> and then run the <code class="docutils literal notranslate"><span class="pre">Spec3Pipeline</span></code> using the <code class="docutils literal notranslate"><span class="pre">strun</span></code> command with the associated <code class="docutils literal notranslate"><span class="pre">calwebb_spec3.cfg</span></code> file. This option is a little more flexible as one can create edit the cfg files, use them again, etc.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>demo_output

collect_pipeline_cfgs<span class="w"> </span>cfgs/

strun<span class="w"> </span>cfgs/calwebb_spec3.cfg<span class="w"> </span>my_point_source_lvl3_asn.json<span class="w"> </span>--output_dir<span class="w"> </span>demo_output<span class="w"> </span>--steps.master_background.skip<span class="w"> </span>True<span class="w"> </span>--steps.outlier_detection.skip<span class="w"> </span>True<span class="w"> </span>--steps.mrs_imatch.skip<span class="w"> </span>True
</pre></div>
</div>
<p>This will produce the same output file in the user-defined <code class="docutils literal notranslate"><span class="pre">--output_dir</span></code></p>
</section>
<section id="further-examples">
<h2>Further examples<a class="headerlink" href="#further-examples" title="Link to this heading">#</a></h2>
<p>Other notebooks with more complex examples can be found here:</p>
<p><em>To be added</em></p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/JWST MIRI Pipeline"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#input-data">Input data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#python">Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#command-line">Command line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#further-examples">Further examples</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Patrick Kavanagh
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>